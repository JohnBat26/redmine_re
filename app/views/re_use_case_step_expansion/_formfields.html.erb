<%= f.fields_for :re_use_case_step_expansions_attributes do |ex_form| %>
  <% type = re_use_case_step_expansion.re_expansion_type %>
  <tr id="use_case_step_expansion_<%= re_use_case_step_expansion.id %>" class="use_case_expansion_row">
    <td>
      <%= ex_form.select :re_expansion_type, [ ['Exception', 1], ['Data',2], ['Other',3] ], :index => nil %>
    <td>
      <%= ex_form.text_area :description, { :size => "35x2", :value => re_use_case_step_expansion.description, :index => nil,  :class => "use_case_step_textarea" } %>
    </td>
    <td>
      <% if re_use_case_step_expansion.new_record? %>
        <%= link_to_function t(:re_delete_use_case_expansion), "$(this).up('.use_case_expansion_row').remove()", :class => "icon icon-del" %>
      <% else %>
        <%= link_to_function t(:re_delete_use_case_expansion), "markExpansionForDeletion(this)", :class => "icon icon-del" %>
        <%= ex_form.hidden_field(:id, :value => re_use_case_step_expansion.id, :index => nil) %>
        <%= ex_form.hidden_field(:_destroy, :index => nil, :class => "should_destroy") %>
      <% end %>
    </td>
  </tr>
<% end %>

<!--
Shuld but dosn't work
<%= f.fields_for :re_use_case_step_expansion_attributes do |ex_form| %>
 
 re_artifact_properties[artifact_attributes][re_use_case_steps_attributes][re_use_case_step_expansion_attributes][][description]      (Rendered)
 re_artifact_properties[artifact_attributes][re_use_case_steps_attributes][][re_use_case_step_expansions_attributes][+use_case_sept_id+][description]  (Required)
-->